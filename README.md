# aclii

**Another Command Line Interface Interface**

1. Write YAML file to design your command
1. aclii will generate launcher shell script and completion script from it
1. You can get your own powerful command, for your product, and/or every tools you use.

# Install

```
$ apt update && apt install -y jq
$ npm i -g aclii
```

_(sorry install script is not yet, so...)_

```
$ source <(aclii aclii-completion)
```

Ok , now aclii has been set up!

# How to use

Go some new directory and put this config as `aclii.yml`

```
name: mytool
description: my tool for cli
helpstop: true
commands:
  - name: list-home
    description: show my home directory
    script: cd ~ && ls -la
    env: bash
```

now aclii can compile this to launcher by `aclii render completion`, and `aclii render completion` for bash_completion.
Install them and try it!

```
$ aclii render launcher > /usr/local/bin/mytool && chmod +x /usr/local/bin/mytool
$ source <(aclii render completion)
$ mytool<TAB>
```


# Use cases

## For quick tool writing

If you're about to start writing some cli tool (in JavaScript? ruby? whatever) but if you're not familiar with that language and/or command option parser, aclii can help you. aclii launcher can parse options instead and launch your tool with options translated into JSON. You just have to `JSON.parse()` and then write the essential tasks.
Also, aclii launcher can show help pages which automatically generated from YAML file.

## For team collaboration

If you're working for monorepo which maintained by multiple teams. For example backend and frontend team. There are many cool tools in both area but they don't know each others' stuff. Since frontend team don't know how to do `perldoc` and backend team don't know how npx is powerful. aclii can solve this situation by just writing a YAML config. Let's put a master launcher generated by aclii and navigate them with powerful auto-completion. If a command `repo test frontend<TAB>` show doable actions, `repo build backend --help` shows documents for them, and of course they are executable from single command. It could be helpful, isn't it? 

## For personal use

I know you have aliases which you wrote into `~/.*shrc` but never invoked, and completely forgot how to use them. How many dead aliases do you have?
aclii launcher can manage those items in single yaml file, with documentation and auto-completion, by just putting personal launcher, since you can write oneliners and scripts in aclii.yml and aclii can run them, like GH actions.

### Example for personal use, with self update

```yaml
name: ii
description: Personal tools launcher. To update, edit ~/.aclii/aclii.yml.
helpstop: true
commands:
  - name: maintain
    description: maintain this tool itself
    helpstop: true
    commands:
      - name: update
        description: Re-compile ii
        env: bash
        script: |
          cd ~/.aclii
          aclii render launcher > ~/.bin/ii
          aclii render completion > ~/.bashrc.d/ii
  - name: hey
    description: |
      notify me with desktop notification and voice
    script: |
      osascript -e 'display notification "へい"'
      say "へい"
```

# Limitations / Missing features / ToDos

- **Documentation**
  - How to use aclii cli
  - how to write yaml file
- Runtime Dependency to `jq`, it should be removed if possible
- Completion file auto installer
- Only bash is suppported / Need to support other environment
- Bootstrap / Scatfold to create new aclii project
- Help format
- Auto completion format
- short option support

## Future Features

- Dash off script bootstrap / implant aclii config into script file
- Branch grafting for multiple aclii configs
- Plaggable language support for inline scripting / scatfolding
